(self.webpackChunkwebmail=self.webpackChunkwebmail||[]).push([[535],{5100:function(t,e,n){const i=n(69538);t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push(JSON.stringify({cn:{loginQQ:i.t("SxDGY#QQ登录"),loginWechat:i.t("VCaPF#微信登录")}})),delete t.options._Ctor}},35511:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return o}});var i=n(94259),r=i.Z,o=(0,n(51900).Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login_index"},[n("Header"),t._v(" "),n("div",{staticClass:"login_index_main"},[n("div",{staticClass:"login_index_container"},[n("div",{staticClass:"login_index_container_right"},[n("LoginTab",{attrs:{wxSrc:t.wxSrc,qqSrc:t.qqSrc},on:{updatependstate:t.updatePendState}})],1),t._v(" "),n("div",{staticClass:"login_index_container_left"},[1===t.randomPicIndex?n("div",{staticClass:"login_index_pictures"},[n("div",{staticClass:"login_index_pictures_picture",staticStyle:{"background-image":"url('https://rescdn.qqmail.com/zh_CN/htmledition/images/tg-bird1fbc69.png')","background-position":"56px 60px"}}),t._v(" "),n("div",{staticClass:"login_index_pictures_txt"},[n("p",{staticClass:"login_index_pictures_title"},[t._v(t._s(t.I18N.t("CXEgf#QQ邮箱，常联系！")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("HkPEL#没有什么能够阻挡")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("bsVhW#你对自由的向往")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("NfxAy#天马行空的生涯")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("NDoEb#你的心了无牵挂")))]),t._v(" "),n("p",{staticClass:"login_index_pictures_info"},[t._v(t._s(t.I18N.t("kqjGQ#摘自《蓝莲花》")))]),t._v(" "),n("p",{staticClass:"login_index_pictures_info",staticStyle:{margin:"-5px 0 0 0"}},[n("a",{staticClass:"xm_textGray",attrs:{href:"http://y.qq.com/#type=singer&mid=00235pCx2tYjlq",target:"_blank"}},[t._v(t._s(t.I18N.t("lrCwo#听更多许巍音乐")))])])])]):t._e(),t._v(" "),2===t.randomPicIndex?n("div",{staticClass:"login_index_pictures"},[n("div",{staticClass:"login_index_pictures_picture",staticStyle:{"background-image":"url('https://rescdn.qqmail.com/zh_CN/htmledition/images/tg-mail20f1b0.gif')","background-position":"right 100px"}}),t._v(" "),n("div",{staticClass:"login_index_pictures_txt"},[n("p",{staticClass:"login_index_pictures_title"},[t._v(t._s(t.I18N.t("CXEgf#QQ邮箱，常联系！")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("hGLWf#1987年9月14日21时07分")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("oHaAL#中国第一封电子邮件")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("LbPGu#从北京发往德国")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("hmUnQ#“越过长城，走向世界”")))])])]):t._e(),t._v(" "),3===t.randomPicIndex?n("div",{staticClass:"login_index_pictures"},[n("div",{staticClass:"login_index_pictures_picture",staticStyle:{"background-image":"url('https://rescdn.qqmail.com/zh_CN/htmledition/images/tg-smile1e9c5d.jpg')","background-position":"234px 130px"}}),t._v(" "),n("div",{staticClass:"login_index_pictures_txt"},[n("p",{staticClass:"login_index_pictures_title"},[t._v(t._s(t.I18N.t("CXEgf#QQ邮箱，常联系！")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("nHIUQ#1982年，第一张电脑笑脸诞生")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("OEGDo#今天，人们已经习惯用它来表达心情")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("PvATX#现在，你也可以在邮件里")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("kBWab#用:-)来传达一个微笑的表情")))]),t._v(" "),n("p",{staticClass:"login_index_pictures_info"},[n("a",{staticClass:"xm_textGray",attrs:{href:"/cgi-bin/readtemplate?check=false&t=about_symbolization",target:"_blank"}},[t._v(t._s(t.I18N.t("WjEzT#了解更多表情符号")))])])])]):t._e(),t._v(" "),4===t.randomPicIndex?n("div",{staticClass:"login_index_pictures"},[n("div",{staticClass:"login_index_pictures_picture",staticStyle:{"background-image":"url('https://rescdn.qqmail.com/zh_CN/htmledition/images/tg-mj1e9c5d.jpg')","background-position":"right 20px"}})]):t._e(),t._v(" "),5===t.randomPicIndex?n("div",{staticClass:"login_index_pictures"},[n("div",{staticClass:"login_index_pictures_picture",staticStyle:{"background-image":"url('https://rescdn.qqmail.com/zh_CN/htmledition/images/tg-chang1ea8a2.png')","background-position":"right 0"}}),t._v(" "),n("div",{staticClass:"login_index_pictures_txt"},[n("p",{staticClass:"login_index_pictures_title"},[t._v(t._s(t.I18N.t("CXEgf#QQ邮箱，常联系！")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("mzMnS#2500年前，人们飞鸽传书")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("aNOes#183年前，莫尔斯发明了电报")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("Vlmva#50年前，第一封电子邮件发出")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("yhTMa#今天，QQ邮箱联系你、我、他")))])])]):t._e(),t._v(" "),6===t.randomPicIndex?n("div",{staticClass:"login_index_pictures"},[n("div",{staticClass:"login_index_pictures_picture",staticStyle:{"background-image":"url('https://rescdn.qqmail.com/zh_CN/htmledition/images/tg-silence1e9c5d.jpg')","background-position":"right 40px"}}),t._v(" "),n("div",{staticClass:"login_index_pictures_txt"},[n("p",{staticClass:"login_index_pictures_title"},[t._v(t._s(t.I18N.t("CXEgf#QQ邮箱，常联系！")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("rcZRU#到头来，")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("SaVfX#我们记住的，")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("vaRgD#不是敌人的攻击，")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("GUMdK#而是朋友的沉默。")))]),t._v(" "),n("p",[t._v(t._s(t.I18N.t("UapEo#——马丁·路德·金")))]),t._v(" "),n("p",{staticClass:"login_index_pictures_info"},[t._v(t._s(t.I18N.t("FmuLl#插画来自丑丑(两岁)")))])])]):t._e()])])]),t._v(" "),n("Footer")],1)}),[],!1,null,null,null).exports},83102:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return l}});var i=n(76377),r=i.Z,o=n(51900),a=n(5100),c=n.n(a)(),s=(0,o.Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login_loginBox"},[n("div",{staticClass:"login_loginBox_tab"},[n("div",{staticClass:"login_loginBox_tab_item",class:{login_loginBox_tab_item_Active:t.isWX},on:{click:function(e){return t.switchLogin("wx")}}},[t._v(t._s(t.$t("loginWechat")))]),t._v(" "),n("div",{staticClass:"login_loginBox_tab_item",class:{login_loginBox_tab_item_Active:t.isQQ},on:{click:function(e){return t.switchLogin("qq")}}},[t._v(t._s(t.$t("loginQQ")))])]),t._v(" "),n("div",{staticClass:"login_loginBox_body"},[n("div",{staticClass:"login_loginBox_wx"},[n("iframe",{staticClass:"login_loginBox_wx_iframe",attrs:{id:"iframe_wx",frameborder:"no",scrolling:"no",src:"https://open.weixin.qq.com/connect/qrconnect?appid=wx5e893ac3cc590290&redirect_uri="+t.encodeWxSrc+"&self_redirect=false&response_type=code&scope=snsapi_login&state=state&href="+t.encodeWxStyleUrl+"#wechat_redirect"},on:{load:t.wxIframeOnload}})]),t._v(" "),n("div",{staticClass:"login_loginBox_qq",staticStyle:{"z-index":"10"},style:{left:t.isQQ?"0":"-100%",right:t.isQQ?"0":"auto"},attrs:{id:"iframe_qq"}},[n("iframe",{staticClass:"login_loginBox_qq_iframe",attrs:{frameborder:"no",scrolling:"no",src:"https://xui.ptlogin2.qq.com/cgi-bin/xlogin?target=self&appid=522005705&daid=4&s_url="+encodeURIComponent(t.qqSrc)+"&style=25&low_login=1"+("en"===t.lang?"&lang=1033":"")+"&proxy_url=https://mail.qq.com/proxy.html&need_qr=0&hide_border=1&border_radius=0&self_regurl="+t.encodedRegUrl+"&app_id=11005?t=regist&pt_feedback_link=http://support.qq.com/discuss/350_1.shtml&css=https://res.mail.qq.com/zh_CN/htmledition/style/ptlogin_input_for_xmail"+("en"===t.lang?"_en":"")+".css"}})]),t._v(" "),t.showRemember?n("div",{staticClass:"login_loginBox_wx_state",style:{"z-index":t.isQQ?"99":"",top:t.isQQ?"250px":"","margin-left":t.isQQ?"6px":""}},[n("p",{staticStyle:{color:"#2E3033"}},[t.isWX?n("input",{directives:[{name:"model",rawName:"v-model",value:t.pendState,expression:"pendState"}],attrs:{type:"checkbox",id:"auto_login"},domProps:{checked:Array.isArray(t.pendState)?t._i(t.pendState,null)>-1:t.pendState},on:{change:function(e){var n=t.pendState,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.pendState=n.concat([null])):o>-1&&(t.pendState=n.slice(0,o).concat(n.slice(o+1)))}else t.pendState=r}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.pendStateQQ,expression:"pendStateQQ"}],attrs:{type:"checkbox",id:"auto_login"},domProps:{checked:Array.isArray(t.pendStateQQ)?t._i(t.pendStateQQ,null)>-1:t.pendStateQQ},on:{change:function(e){var n=t.pendStateQQ,i=e.target,r=!!i.checked;if(Array.isArray(n)){var o=t._i(n,null);i.checked?o<0&&(t.pendStateQQ=n.concat([null])):o>-1&&(t.pendStateQQ=n.slice(0,o).concat(n.slice(o+1)))}else t.pendStateQQ=r}}}),t._v(" "),n("label",{attrs:{for:"auto_login"}},[t._v(t._s(t.I18N.t("bgiPU#下次自动登录")))]),t._v(" "),n("img",{staticStyle:{width:"13px","margin-left":"3px"},attrs:{src:"https://rescdn.qqmail.com/qqmail/images/notice.png",alt:""},on:{mouseover:function(e){t.showHover=!0},mouseout:function(e){t.showHover=!1}}}),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:t.showHover,expression:"showHover"}],staticClass:"login_hover_text",attrs:{src:t.imgSrc,alt:""}})])]):t._e()])])}),[],!1,null,null,null);"function"==typeof c&&c(s);var l=s.exports},94259:function(t,e,n){"use strict";var i=n(95318);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(32089);var r=i(n(83102)),o=i(n(57519)),a=i(n(17664)),c=i(n(40600)),s=n(91120),l=n(86914),u={name:"login",data:function(){return{randomPicIndex:Math.floor(6*Math.random()+1),wxSrc:"https://wx.mail.qq.com/list/readtemplate?name=login_page.html&iswechat=true&lt=true",qqSrc:"https://wx.mail.qq.com/list/readtemplate?name=login_page.html",pendState:!1}},components:{LoginTab:r.default,Header:o.default,Footer:a.default},created:function(){c.default.moniterNoAuth({sublogid:8},{biz:"login_IDKey"}),this.judgeLoginState(),this.updateLocalPendState(),this.checkTargetUrl(),this.addFingerprintToWXSrc(),this.setCookieOfLang(),console.log("wxsrc test: ",this.wxSrc)},methods:{judgeLoginState:function(){var t,e,n=this;void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),void 0===document.addEventListener||void 0===document[t]?console.log("This demo requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API."):document.addEventListener(e,(function(){"visible"===document.visibilityState&&n.updateLocalPendState()}),!1)},updatePendState:function(t){this.pendState=t,this.updateLocalPendState()},updateLocalPendState:function(){console.log("this is updateLocalPendState",this.pendState),this.pendState?(0,s.setCookie)("xm_pstate",!0,1):(0,s.deleteCookie)("xm_pstate")},checkTargetUrl:function(){var t=(0,l.getUrlParam)("docUrl");t&&t.startsWith("https://doc.weixin.qq.com")&&(this.qqSrc="".concat(this.qqSrc,"&delegate_url=").concat(encodeURIComponent("/cgi-bin/readtemplate?t=delegate_login&target_url=".concat(encodeURIComponent(t)))),this.wxSrc="".concat(this.wxSrc,"&return_target=5&delegate_url=").concat(encodeURIComponent("https://wx.mail.qq.com/list/readtemplate?name=proxy.html&type=delegate-login-map&target_url=".concat(encodeURIComponent(t)))))},addFingerprintToWXSrc:function(){var t=this;FingerprintJS.load().then((function(e){e.get().then((function(e){console.log("data.visitorId:",e.visitorId),e.visitorId&&(t.wxSrc="".concat(t.wxSrc,"&ds=").concat(e.visitorId))}))}))},setCookieOfLang:function(){location.href.indexOf("lang=en")>-1||"en.mail.qq.com"===location.host?(0,s.setCookie)("lang","en",1):"wx.mail.qq.com"===location.host&&(0,s.setCookie)("lang","zh-CN",1)}}};e.Z=u},76377:function(t,e,n){"use strict";var i=n(95318);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var r=n(86914),o=i(n(40600)),a=n(95621);function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var s="https://secres.wxqcloud.qq.com/t/webmail/xmail/res/css/iframe_wx797497.css",l={name:"LoginTab",data:function(){return{wxStyleUrl:"",currentTab:"wx",protocal:"https:",createTime:0,pendState:!1,pendStateQQ:!1,lang:"",showHover:!1,showRemember:!0}},props:{wxSrc:{type:String},qqSrc:{type:String,default:"https://mail.qq.com/cgi-bin/readtemplate?check=false&t=loginpage_new_jump&vt=passport&vm=wpt&ft=loginpage&target="}},watch:{pendState:function(t){this.$emit("updatependstate",t)},pendStateQQ:function(t){console.log("this is pendStateQQ",t),this.$emit("updatependstate",t)},isWX:function(t){this.$emit("updatependstate",t?this.pendState:this.pendStateQQ)}},computed:{encodeWxStyleUrl:function(){return encodeURIComponent(this.wxStyleUrl)},encodeQQStyleUrl:function(){return encodeURIComponent(this.qqStyleUrl)},encodedRegUrl:function(){return encodeURIComponent(a.DEFAULT_REG_URL)},isWX:function(){return"wx"===this.currentTab},isQQ:function(){return"qq"===this.currentTab},encodeWxSrc:function(){return encodeURIComponent(this.wxSrc)},imgSrc:function(){return window.isEnVer?"https://rescdn.qqmail.com/qqmail/images/hover-en2.png":"https://rescdn.qqmail.com/qqmail/images/hover.png"}},created:function(){this.createTime=(new Date).getTime(),"qq"===(0,r.getUrlParam)("login_type")?this.currentTab="qq":this.setCurrentTabFromCookie(),o.default.ossNoAuth({itemname:"xmail_login_page_expose"},{biz:"home"}),o.default.ossNoAuth({itemname:"xmail_login_page_expose_default/".concat(this.currentTab)},{biz:"home"}),"true"===localStorage.getItem("web_logoff_logoff_homepage_click")&&o.default.ossNoAuth({itemname:"web_logoff_logoff_homepage_click"},{biz:"logoff"}),this.setWxStyleUrl()},mounted:function(){var t=this;window.addEventListener("message",(function(e){console.log("this is message event"),"login_jump"===(e.data||{}).type&&(t.showRemember=!1)}))},methods:{wxIframeOnload:function(){var t,e=(new Date).getTime()-this.createTime;t=e<300?0:e>=300&&e<500?1:e>=500&&e<800?2:e>=800&&e<1e3?3:e>=1e3&&e<2e3?4:e>=2e3&&e<5e3?5:e>=5e3&&e<1e4?6:7,o.default.moniterNoAuth({sublogid:t},{biz:"login_IDKey"})},switchLogin:function(t){this.currentTab=t,o.default.ossNoAuth({itemname:"xmail_login_switch_".concat(t)},{biz:"home"})},setWxStyleUrl:function(){switch(window.lang){case"en":this.wxStyleUrl="https://secres.wxqcloud.qq.com/t/webmail/xmail/res/css/iframe_wx_en1748c2.css",this.lang="en";break;case"zh-CN":this.wxStyleUrl=s,this.lang="zh-CN";break;default:this.wxStyleUrl=s}},setCurrentTabFromCookie:function(){var t,e=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(document.cookie.split(";"));try{for(e.s();!(t=e.n()).done;){var n=t.value;if("string"==typeof n&&-1!==n.indexOf("qm_logintype")){var i=n.split("=");Array.isArray(i)&&(this.currentTab=i[1]||"wx");break}}}catch(t){e.e(t)}finally{e.f()}}}};e.Z=l},46961:function(t,e,n){"use strict";var i=n(95318);n(82526),n(41817),n(72443),n(92401),n(8722),n(32165),n(69007),n(83510),n(41840),n(6982),n(32159),n(96649),n(39341),n(60543),n(92222),n(50545),n(43290),n(57327),n(69826),n(34553),n(84944),n(86535),n(91038),n(26699),n(82772),n(66992),n(69600),n(94986),n(21249),n(26572),n(85827),n(96644),n(47042),n(2707),n(38706),n(40561),n(33792),n(99244),n(18264),n(76938),n(39575),n(96078),n(4855),n(68309),n(73706),n(51532),n(99752),n(82376),n(73181),n(23484),n(2388),n(88621),n(60403),n(84755),n(25438),n(90332),n(40658),n(40197),n(44914),n(52420),n(60160),n(60970),n(10408),n(73689),n(9653),n(93299),n(35192),n(33161),n(44048),n(78285),n(44363),n(55994),n(61874),n(9494),n(56977),n(19601),n(59595),n(35500),n(69720),n(43371),n(38559),n(38880),n(49337),n(36210),n(30489),n(43304),n(41825),n(98410),n(72200),n(47941),n(94869),n(33952),n(57227),n(60514),n(68304),n(41539),n(26833),n(54678),n(91058),n(88674),n(17727),n(36535),n(12419),n(69596),n(52586),n(74819),n(95683),n(39361),n(51037),n(5898),n(67556),n(14361),n(83593),n(39532),n(24603),n(74916),n(92087),n(39714),n(70189),n(79841),n(27852),n(94953),n(32023),n(78783),n(4723),n(66528),n(83112),n(38992),n(82481),n(15306),n(64765),n(23123),n(23157),n(73210),n(48702),n(55674),n(15218),n(74475),n(57929),n(50915),n(29253),n(42125),n(78830),n(58734),n(29254),n(37268),n(7397),n(60086),n(80623),n(44197),n(76495),n(87145),n(35109),n(65125),n(82472),n(49743),n(8255),n(29135),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(98145),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(95206),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(4129),n(38478),n(8628),n(83475),n(46273),n(51568),n(26349),n(65743),n(10072),n(99137),n(71957),n(96306),n(103),n(8582),n(90618),n(74592),n(88440),n(58276),n(35082),n(12813),n(18222),n(24838),n(38563),n(50336),n(7512),n(46603),n(70100),n(10490),n(13187),n(60092),n(19041),n(30666),n(51638),n(62975),n(15728),n(46056),n(44299),n(5162),n(50292),n(1025),n(97314),n(96290),n(77479),n(34582),n(47896),n(12647),n(98558),n(84018),n(97507),n(61605),n(49076),n(34999),n(88921),n(96248),n(13599),n(11477),n(64362),n(15389),n(46006),n(90401),n(45164),n(91238),n(54837),n(87485),n(56767),n(69916),n(76651),n(61437),n(35285),n(39865),n(86035),n(67501),n(13728),n(27207),n(21568),n(48824),n(44130),n(78206),n(76478),n(79715),n(43561),n(32049),n(86020),n(56585),n(54747),n(33948),n(84633),n(85844),n(60285),n(83753),n(41637),n(35666),n(44016);var r=i(n(70538)),o=i(n(35511)),a=i(n(87999));new r.default({el:".container",components:{App:o.default},i18n:a.default,template:"<App/>"})},32089:function(t,e,n){"use strict";n.r(e)},46067:function(t,e,n){"use strict";n.r(e),n.d(e,{API_ERROR_CODE:function(){return r},ATTACH_PAGE_SIZE:function(){return o},TAG_COLORS:function(){return a},PICKER_COLORS:function(){return c},getPickerColorIndex:function(){return s},getColorIndexByPickerColorIndex:function(){return l},DEFAULT_HEAD_COLORS:function(){return u}});var i=n(69538),r={"-5039":i.t("zkMZI#QQ邮箱中的某些功能和服务可能在某些情况下无法流畅运行。我们正在努力确保我们能够为用户提供更好的服务。感谢你的支持。"),"-5151":i.t("rVzEa#暂不支持非QQ邮箱帐号发送邮件，请切换发件人帐号"),"-20011":i.t("BlNCV#非法输入"),"-20002":i.t("mtOha#登录态失效"),"-21901":i.t("ECylf#文件夹不合法"),"-21902":i.t("DIUVC#文件夹不存在"),"-21913":i.t("YurMW#标签不存在"),"-21903":i.t("YpmiK#创建文件夹失败，已存在同名的文件夹"),"-21904":i.t("jncty#创建标签失败，已存在同名的标签"),"-5209":i.t("AbmCa#创建失败，创建数量已达上限"),"-21703":i.t("BIxno#该组名已存在"),"-21705":i.t("oWabs#该联系人已存在"),"-5104":i.t("fqRSK#邮箱格式出错"),"-5123":i.t("oHdOq#该邮箱地址已被系统保留"),"-5107":i.t("aKXik#该微信号已经绑定了其他邮箱"),"-21102":i.t("PHIhn#该邮箱地址已被注册"),"-5603":{default:i.t("dxkNi#中转站已满"),resume:i.t("iePgy#个人作品数量达到上限")},"-5604":{default:i.t("dxkNi#中转站已满"),resume:i.t("DpSQU#个人作品容量达到上限")},"-5901":i.t("gZPSa#文件已存在"),"-5902":i.t("cWlRs#文件不存在"),"-5903":i.t("WsrfK#批量操作部分失败"),"-5904":i.t("Qharb#下载次数达到上限"),"-30003":i.t("hQcSv#获取列表失败"),"-33002":i.t("wYpQd#该分类已存在"),"-33012":i.t("FpLCk#该分类还有笔记，不可删除"),"-21402":i.t("ymTRh#邮件已删除"),"-21024":i.t("lWhtv#服务还未退订，请退订后再执行注销操作"),"-20013":i.t("sKOeN#身份验证失败"),"-21005":i.t("sKOeN#身份验证失败"),"-21014":i.t("sKOeN#身份验证失败"),"-21115":i.t("rgdtO#请输入自动转发邮箱地址"),"-21116":i.t("erHgl#自动转发邮箱地址不存在"),"-21117":i.t("bdxXD#自动回复内容过长"),"-21118":i.t("mQZat#启用失败，请填写自动转发邮箱地址"),"-21912":i.t("XhEqS#该文件夹不可被修改"),"-21503":i.t("aufIK#附件存在问题"),"-21405":i.t("GkRpV#转发邮件超过50M，请单独转发"),"-21101":i.t("DCcIY#邮箱地址检查不通过"),"-20058":i.t("TmAQN#文件夹未解锁"),"-21914":i.t("kfwlQ#正在处理邮件中...")},o=50,a={0:"#1A9649",1:"#4C43DC",2:"#0F711C",3:"#2865C7",4:"#271F99",5:"#997800",6:"#E07000",7:"#C22F25",8:"#F1554B",9:"#8D1A1A",10:"#1A9649",11:"#F2C314",12:"#F29D13",13:"#E07000",14:"#BF4000",15:"#CCA000",16:"#45BD5E",17:"#C22F25",18:"#BF4000",19:"#4C43DC",20:"#271F99",21:"#1A9649",22:"#2189FF",23:"#2865C7",24:"#45BD5E",25:"#3D4F6C",26:"#2189FF",27:"#4C43DC",28:"#1145AD",29:"#6E67D1",30:"#271F99",31:"#CCA000",32:"#98A8BF",33:"#647897",34:"#3D4F6C"},c=["#F1554B","#F29D13","#F2C314","#45BD5E","#2189FF","#6E67D1","#98A8BF","#C22F25","#E07000","#CCA000","#1A9649","#2865C7","#4C43DC","#647897","#8D1A1A","#BF4000","#997800","#0F711C","#1145AD","#271F99","#3D4F6C"];function s(t){var e=a[t];return c.findIndex((function(t){return t===e}))}function l(t){var e=c[t];return Object.keys(a).find((function(t){return a[t]===e}))}var u=["#F29D13","#F2C314","#45BD5E","#2189FF","#6E67D1","#C22F25","#CCA000","#1A9649","#2865C7","#4C43DC","#BF4000","#997800","#0F711C","#1145AD","#271F99"]},70172:function(t,e,n){"use strict";n.r(e),n.d(e,{FROM:function(){return u},MODULE:function(){return d},default:function(){return _}});var i=n(86914),r="from",o="sid",a="qy_sid",c="qy_state",s="module",l="lang",u={xmail:"xmail",webmail:"webmail",qymail:"qymail",app:"app"},d={FTN:"ftn",BIRTHDAY:"birthday",INVOICE:"invoice"},p={sid:(0,i.getUrlParam)("sid")},f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"string"==typeof t[0]&&2===t.length?p[t[0]]=t[1]:"object"==typeof t[0]&&Object.assign(p,t[0])},g=function(t){return t?p[t]:p},m=function(t){f(o,t)},h=function(){var t=(0,i.getUrlParam)("qysid");t&&f(a,t)},v=function(t){t&&f(l,t)},_={set:f,get:g,setApp:function(t){f("app",t)},getApp:function(){return g("app")},setFrom:function(t){f(r,t)},getFrom:function(){var t=g(r);return t||(t=u.xmail),t},setSid:m,getSid:function(){var t;return g(o)||((t=(0,i.getUrlParam)("sid"))&&m(t),g(o)||function(){var t=function(t){for(var e="".concat("xm_sid","="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return null}();t&&m(t)}()),g(o)},replaceUrlSid:function(t){console.log("this is replaceurlsid",location.href,t);var e=location.href;/[?&]sid=/.test(e)?(e=e.replace(/(sid=).*?(&|#|$)/g,"$1".concat(t,"$2")),console.log("this is url",e)):e="".concat(e).concat(-1===e.indexOf("?")?"?":"&","sid=").concat(t),history.pushState({},document.title,e),m(t)},loadQySid:h,getQySid:function(){return g(a)||h(),g(a)},setQyState:function(t){f(c,t)},getQyState:function(){return g(c)},getLang:function(){var t=g(l);return t||(v(window.lang),t=g(l)),t||(t="zh-cn"),t},setLang:v,setModule:function(t){f(s,t)},getModule:function(){return g(s)}}},78107:function(t,e,n){"use strict";n.r(e),n.d(e,{CgiClient:function(){return $},default:function(){return et}});var i=n(69538),r=n(80129),o=n.n(r),a=n(9669),c=n.n(a),s=n(97466),l=n.n(s),u=n(46067),d=n(70172),p=n(10680),f=n(86914);function g(t){for(var e="".concat(t,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return null}var m,h=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function c(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((i=i.apply(t,e||[])).next())}))},v=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},_=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function c(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((i=i.apply(t,e||[])).next())}))},y=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},S=null;function w(t){if(void 0===t&&(t=3e3),S)return S;m=(new Date).getTime();var e=new Promise((function(t){var e,n,i,r;e=[],n=function(){var e=setInterval((function(){var n=function(){var t,e,n,i,r,o=this,a=void 0!==window.Module,c="function"==typeof(null===(t=window.Module)||void 0===t?void 0:t.cwrap),s="function"==typeof allocateUTF8,l="function"==typeof UTF8ToString,u=a&&c&&s&&l;if(!u)return console.log("load failed"),null;var d={enable:u};if(u){var p=null===(e=window.Module)||void 0===e?void 0:e.cwrap("NewClient","number"),f=null===(n=window.Module)||void 0===n?void 0:n.cwrap("NewClientWithSecret","number",["number"]),g=null===(i=window.Module)||void 0===i?void 0:i.cwrap("ClientEncrypt","number",["number","number"]),m=null===(r=window.Module)||void 0===r?void 0:r.cwrap("ClientDecrypt","number",["number","number"]),_=!1,y=[],S=null,w=function(){_=!0,clearTimeout(S),y.forEach((function(t){return t()})),y=[],console.log("xmtls load success")};"undefined"!=typeof runtimeInitialized&&runtimeInitialized?w():window.Module.onRuntimeInitialized=function(){w()};var C=null;d.wasmReady=function(){return C||(C=new Promise((function(t){_?t():y.push(t),S=setTimeout((function(){console.log("xmtls load timeout!"),t(!1)}),5e7)}))),C},d.getDefaultClientPtr=function(){return h(o,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,d.wasmReady()];case 1:return t.sent(),[2,p()]}}))}))},d.getClientPtrWithSecret=function(t){return h(o,void 0,void 0,(function(){var e,n;return v(this,(function(i){switch(i.label){case 0:return[4,d.wasmReady()];case 1:return i.sent(),e=allocateUTF8(t),n=f(e),window.Module._free(e),[2,n]}}))}))},d.clientEncrypt=function(t,e){var n,i=allocateUTF8(e),r=g(t,i);return r&&(n=UTF8ToString(r),window.Module._free(r)),window.Module._free(i),n},d.clientDecrypt=function(t,e){var n,i=allocateUTF8(e),r=m(t,i);return r&&(n=UTF8ToString(r),window.Module._free(r)),window.Module._free(i),window.Module._free(t),"string"==typeof n?JSON.parse(n):n}}return d}();n&&(t({isSuccess:!0,xmtls:n}),clearInterval(e))}),50)},i=function(){return t({isSuccess:!1,reason:"loadFailed"})},(r=document.createElement("script")).src="https://res.wx.qq.com/t/webmail/mailcdn/22042502/xmtls/xmtls.js",e.forEach((function(t){r.setAttribute(t[0],t[1])})),r.type="text/javascript",r.addEventListener("load",(function(){null==n||n()})),r.addEventListener("error",(function(){null==i||i()})),document.getElementsByTagName("head")[0].appendChild(r)})),n=new Promise((function(e){return setTimeout((function(){return e({isSuccess:!1,reason:"timeout"})}),t)}));return S=Promise.race([e,n]).then((function(t){return t.isSuccess?l().cube({module:"login",action:"load_xmtls_time",ver5:(((new Date).getTime()-m)/1e3).toString()},{immediate:!0}):(l().cube({module:"login",action:"load_xmtls_failed",ver5:t.reason,ver6:(((new Date).getTime()-m)/1e3).toString()},{immediate:!0}),console.log("[xmtls] load xmtls failed",t.reason)),t}))}var C=function(){var t=document.createElement("canvas"),e=t.getContext("2d"),n="https://wx.mail.qq.com";e.textBaseline="top",e.font="14px Arial",e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(125,1,62,20),e.fillStyle="#069",e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText(n,4,17);var i=t.toDataURL().replace("data:image/png;base64,","");return function(t){for(var e=(t+="").length,n="",i="",r=0;r<e;r++)i+=(n=t.charCodeAt(r).toString(16)).length<2?"0".concat(n):n;return i}(window.atob(i).slice(-16,-12))}(),E=function(){function t(t){this.secretKey=t,w()}return t.prototype.ensureXMtlsLoaded=function(){return _(this,void 0,void 0,(function(){var t,e;return y(this,(function(n){switch(n.label){case 0:return[4,S];case 1:return(t=n.sent()).isSuccess?(this.xmtls=t.xmtls,e=this,[4,this.getClientPtr()]):[3,3];case 2:return e.xmtlsClientPtr=n.sent(),[2,!0];case 3:return[2,!1]}}))}))},t.prototype.encrypt=function(t){return _(this,void 0,void 0,(function(){var e;return y(this,(function(n){switch(n.label){case 0:return e={isSuccess:!1},[4,this.ensureXMtlsLoaded()];case 1:return n.sent()?[4,this.xmtls.clientEncrypt(this.xmtlsClientPtr,t)]:(e.message=i.t("JohfF#加载 xmtls 失败"),[2,e]);case 2:return[2,{isSuccess:!0,result:n.sent()}]}}))}))},t.prototype.decrypt=function(t){return _(this,void 0,void 0,(function(){return y(this,(function(e){switch(e.label){case 0:return[4,this.xmtls.clientDecrypt(this.xmtlsClientPtr,t)];case 1:return[2,e.sent()]}}))}))},t.prototype.getClientPtr=function(){return _(this,void 0,void 0,(function(){var t;return y(this,(function(e){switch(e.label){case 0:return this.secretKey?[4,this.xmtls.getClientPtrWithSecret(this.secretKey)]:[3,2];case 1:return t=e.sent(),[3,4];case 2:return[4,this.xmtls.getDefaultClientPtr()];case 3:t=e.sent(),e.label=4;case 4:return[2,t]}}))}))},t}(),b=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};function x(){if(d.default.getFrom()===d.FROM.webmail)return function(){var t=F("sid",top.location.href),e=((0,p.getCookieParam)("qm_muti_sid")||"").split("|"),n="";return e.forEach((function(e){var i=b(e.split("&"),2),r=i[0],o=i[1];t===o&&(n=r)})),n}();var t=(0,p.getCookieParam)("xm_muti_sid")||"",e=F("sid"),n=t.split("|"),i="";return n.forEach((function(t){var n=b(t.split("&"),2),r=n[0];n[1]===e&&(i=r)})),i||function(){var t="";return Object.keys(localStorage).forEach((function(e){e.startsWith("chosen:")&&(t=e.slice(7))})),t}()}var I,T="ticket:";!function(t){t.QQ="qq",t.WX="wechat",t.Unknow="unknow"}(I||(I={}));var A=new(function(){function t(){this._uin=""}return t.prototype.getCurrentTicket=function(){return this.getStoreTicketByUin(x())},t.prototype.hasLocalTicket=function(){var t=x();return null!==localStorage.getItem("chosen:".concat(t))},t.prototype.clearTicketByUin=function(t){return localStorage.removeItem(this.getStoreKey(t)),localStorage.removeItem("chosen:".concat(t)),console.log(t),!0},t.prototype.clearAllTickets=function(){var t=0;return Object.keys(localStorage).forEach((function(e){e.startsWith(T)&&(localStorage.removeItem(e),t++)})),t},t.prototype.saveTicket=function(t,e){var n=t.s_uin,i=this.getStoreTicketByUin(n);i||(i={ticketFromType:I.Unknow,uin:"",sid:"",ticket:null}),n&&(i.ticketFromType=e,i.uin=t.s_uin,i.sid=t.sid,i.encryptTicket=this.ticketEncrypt(t)),this.saveStoreTicketByUin(n,i)},t.prototype.updateTicket=function(t,e){var n=this.getStoreTicketByUin(t);n.sid=e.sid,this.saveStoreTicketByUin(t,n)},t.prototype.getStoreTicketByUin=function(t){var e=localStorage.getItem(this.getStoreKey(t));if(!e)return null;var n=JSON.parse(e);return n.encryptTicket&&(n.ticket=this.ticketDecrypt(n.encryptTicket)),n},t.prototype.saveStoreTicketByUin=function(t,e){var n=JSON.stringify(e);return localStorage.setItem(this.getStoreKey(t),n),!0},t.prototype.ticketEncrypt=function(t){var e=window.btoa("".concat(JSON.stringify(t),"fingerprinter=").concat(C));return this.encryptOrDecrypt(e,!0)},t.prototype.ticketDecrypt=function(t){var e=window.atob(this.encryptOrDecrypt(t,!1));return JSON.parse(e.replace("fingerprinter=".concat(C),""))},t.prototype.getStoreKey=function(t){return"".concat(T).concat(t)},t.prototype.encryptOrDecrypt=function(t,e){for(var n="",i=t.length,r=0;r<i;r++){var o=e?3:-3;n+=String.fromCharCode(t[r].charCodeAt(0)+o)}return n},t}());function F(t,e){var n,i,r;void 0===e&&(e="");var o=window.location.search,a=(e||o).substring((e||o).indexOf("?")+1);if(a)for(n=a.split("&"),i=0;i<n.length;i++)if((r=n[i].split("="))[0]===t)return r[1];return null}function P(){var t=document.body.getAttribute("loginVersion"),e=A.hasLocalTicket();return!("1.0"!==t&&!e&&!R())}function R(){var t=x();return localStorage.getItem("chosen:".concat(t))}var N=function(){try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){var t=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(t instanceof WebAssembly.Module)return new WebAssembly.Instance(t)instanceof WebAssembly.Instance}}catch(t){console.log(t)}return!1}(),k=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function c(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((i=i.apply(t,e||[])).next())}))},O=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},L="/login/login",U=new(function(){function t(){}return t.prototype.login=function(t){var e;return k(this,void 0,void 0,(function(){var n,r,o,a,c,s,u,d,g,m,h,v,_,y,S;return O(this,(function(w){switch(w.label){case 0:if(!P())return[2,this.originalLogin()];if(n=(new Date).getTime(),r=(0,f.getUrlParam)("code"),o=(0,p.getCookieParam)("p_uin"),a=(0,p.getCookieParam)("p_skey"),c=(0,f.getUrlParam)("redirect_target")||"top",s={},u=t&&t.length>0,d=["name","type","ds","iswechat","mailid","groupid","write_to_email","qq_target"],(location.search||"").split("?")[1].split("&").filter((function(t){return!d.includes(t.split("=")[0])})).forEach((function(t){var e=t.split("=");s[e[0]]="ss"===e[0]?1:e[1],"return_target"===e[0]?s[e[0]]=Number(e[1]):"delegate_url"===e[0]&&(s[e[0]]=decodeURIComponent(e[1]))})),u)s.sec_pwd=t,s.auth_type=3,g=I.QQ;else if(r)s.code=r,s.auth_type=1,g=I.WX,l().cube({module:"login",action:"wxcode_login"});else{if(!o||!a)return R()?[2,this.loginByTicket(!1)]:(l().cube({module:"login",action:"unexpected_login"}),[2,{isSuccess:!1,message:i.t("Bgzxl#登录类型不确定.")}]);s.p_uin=o,s.p_skey=a,s.auth_type=3,g=I.QQ,l().cube({module:"login",action:"pskey_login"})}if(!N)return[2,this.loginWithNoXmtls(s)];w.label=1;case 1:return w.trys.push([1,6,,7]),[4,this.loginCore(s,null)];case 2:return m=w.sent(),h=m.isSuccess,v=m.result,h?(window.tdw({module:"login",action:"xmtls_login_success".concat(u?"_secpwd":""),ver5:(((new Date).getTime()-n)/1e3).toString()},{immediate:!0}),_=(null===(e=m.result.head)||void 0===e?void 0:e.location)||"",y=_.indexOf("proxy_spwd.html")>-1,v.body.pwd_key&&(A.saveTicket(v.body,g),localStorage.setItem("chosen:".concat(v.body.s_uin),g),window.tdw({module:"login",action:"xmtls_login_success_".concat(a?"pskey":"wxcode")},{immediate:!0})),g!==I.QQ||y||(function(t,e,n){var i,r=new Date;r.setTime(r.getTime()+-864e5),i="; expires=".concat(r.toUTCString()),document.cookie="".concat(t,"=").concat("").concat(i,"; path=/; domain=.mail.qq.com")}("p_skey"),window.tdw({module:"login",action:"xmtls_clear_pskey"},{immediate:!0})),this.jumpToHome(m,c),[3,5]):[3,3];case 3:return l().cube({module:"login",action:"xmtls_login_fail".concat(u?"_secpwd":""),ver5:JSON.stringify(m),ver6:m.message},{immediate:!0}),u?[3,5]:(l().cube({module:"login",action:"common_login_after_xmtls_fail",ver5:JSON.stringify(m),ver6:m.message},{immediate:!0}),[4,this.loginWithNoXmtls(s)]);case 4:return[2,w.sent()];case 5:return[2,m];case 6:return S=w.sent(),console.log("[xmtls] login error",S),[2,{isSuccess:!1,message:"login script error",result:S.message}];case 7:return[2]}}))}))},t.prototype.loginByTicket=function(t){return k(this,void 0,void 0,(function(){var e,n,i,r,o,a,c,s,u;return O(this,(function(d){switch(d.label){case 0:return e=A.getCurrentTicket(),n=x(),i=localStorage.getItem("chosen:".concat(n))===I.WX,e?(l().cube({module:"login",action:"login_by_ticket".concat(t?"_silent":""),ver7:n,ver8:top.document.domain},{immediate:!0}),(r={}).pwd_key=e.ticket.pwd_key,r.pwd_ticket_key=e.ticket.pwd_ticket_key,r.auth_type=e.ticketFromType===I.WX?1:6,[4,this.loginCore(r,e)]):[2,this.loginWithNoXmtls({auth_type:i?1:6},t)];case 1:return o=d.sent(),a=o.result,(c=o.isSuccess)&&(t||(s=(0,f.getUrlParam)("redirect_target")||"top",this.jumpToHome(o,s)),u=a.body,A.updateTicket(u.s_uin,u),this.updateUrlSid(u.sid)),l().cube({module:"login",action:"login_by_ticket_".concat(c?"success":"fail"),ver5:JSON.stringify(o),ver6:o.message},{immediate:!0}),[2,o]}}))}))},t.prototype.loginWithNoXmtls=function(t,e){var n,i,r;return void 0===e&&(e=!1),k(this,void 0,void 0,(function(){var o,a,c,s,u,d;return O(this,(function(p){switch(p.label){case 0:o=x(),p.label=1;case 1:return p.trys.push([1,3,,4]),l().cube({module:"login",action:"login_with_no_xmtls".concat(e?"_silent":""),ver7:o,ver8:top.document.domain},{immediate:!0}),a=e?L:this.getLoginUrl(null,!1),[4,et.post(a,t,{silent:!0})];case 2:return c=p.sent(),(s=null===(n=null==c?void 0:c.data)||void 0===n?void 0:n.body)?(window.tdw({module:"login",action:"login_with_no_xmtls_success".concat(e?"_silent":""),ver7:o,ver8:top.document.domain},{immediate:!0}),e||(s.s_uin&&localStorage.setItem("chosen:".concat(s.s_uin),t.code?I.WX:I.QQ),u=(0,f.getUrlParam)("redirect_target")||"top",this.jumpToHome({isSuccess:!0,result:c.data},u)),s.sid&&this.updateUrlSid(s.sid),[2,{isSuccess:!0}]):(l().cube({module:"login",action:"login_with_no_xmtls_fail".concat(e?"_silent":""),ver5:JSON.stringify(t),ver6:JSON.stringify(null===(r=null===(i=null==c?void 0:c.data)||void 0===i?void 0:i.head)||void 0===r?void 0:r.ret),ver7:o,ver8:top.document.domain},{immediate:!0}),[2,{isSuccess:!1,message:"login without xmtls fail"}]);case 3:return d=p.sent(),console.log("login with no xmtls error",d),l().cube({module:"login",action:"login_with_no_xmtls_error",ver5:d.message,ver6:"script error",ver7:o,ver8:top.document.domain},{immediate:!0}),[2,{isSuccess:!1,message:"login without xmtls script error"}];case 4:return[2]}}))}))},t.prototype.loginCore=function(t,e){var n,i,r,o;return k(this,void 0,void 0,(function(){var a,c,s,u,d,p;return O(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),t.filter_param={timestamp:(new Date).getTime(),nonce:"".concat(Math.ceil(999999999999999*Math.random()+1e15))},[4,(a=new E(t.pwd_key||"")).encrypt(JSON.stringify(t))];case 1:return(c=f.sent()).isSuccess?(s=this.getLoginUrl(e),[4,et.post(s,c.result,{silent:!0})]):(l().cube({module:"login",action:"encrypt_fail",ver5:JSON.stringify(a),ver6:c.message},{immediate:!0}),[2,{isSuccess:!1,message:"encrypt error ".concat(c.message)}]);case 2:return(u=f.sent())&&"string"==typeof(null==u?void 0:u.data)?[4,a.decrypt(u.data)]:(console.log("[xmtls] get ticket failed !",JSON.stringify(u),t),l().cube({module:"login",action:"get_ticket_failed_no_encrypt_res",ver5:JSON.stringify(null==u?void 0:u.data),ver6:((null===(i=null===(n=null==u?void 0:u.data)||void 0===n?void 0:n.head)||void 0===i?void 0:i.ret)||0).toString(),ver7:JSON.stringify(t)},{immediate:!0}),this.handleGetTicketFail(e),[2,{isSuccess:!1,result:u,message:"no encrypt res"}]);case 3:return(null==(d=f.sent())?void 0:d.body)?[2,{isSuccess:!0,result:d}]:(console.log("[xmtls] get ticket failed",d.body,t),l().cube({module:"login",action:"get_ticket_failed",ver5:JSON.stringify(d),ver6:((null===(r=d.head)||void 0===r?void 0:r.ret)||0).toString(),ver7:JSON.stringify(t)},{immediate:!0}),-5147!==d.head.ret&&this.handleGetTicketFail(e),[2,{isSuccess:!1,result:d,message:"get ticket failed: ".concat(null===(o=null==d?void 0:d.head)||void 0===o?void 0:o.ret)}]);case 4:return p=f.sent(),console.log("[xmtls] login error",p),l().cube({module:"login",action:"logincore_script_error",ver5:JSON.stringify(p.message)},{immediate:!0}),[2,{isSuccess:!1,message:"logincore script error",result:p}];case 5:return[2]}}))}))},t.prototype.originalLogin=function(){var t=(0,f.getUrlParam)("redirect_target")||"top",e=this.getLoginUrl();return e?("self"===t?location.replace(e):top.location.replace(e),{isSuccess:!0}):{isSuccess:!1,message:"loginUrl empty."}},t.prototype.jumpToHome=function(t,e){var n,i=t.result,r=i.head,o=i.body,a=null==r?void 0:r.location;if(a||(a=(null===(n=null==o?void 0:o.url)||void 0===n?void 0:n.startsWith("https://"))?o.url:"https://wx.mail.qq.com".concat(o.url)),a)return"self"===e?location.replace(a):top.location.replace(a),!0},t.prototype.handleGetTicketFail=function(t){t?A.clearTicketByUin(t.uin):A.clearAllTickets(),top.location.replace("https://wx.mail.qq.com?cancel_login=true")},t.prototype.updateUrlSid=function(t){return d.default.setSid(t),d.default.replaceUrlSid(t),!0},t.prototype.getBaseLoginUrl=function(t){void 0===t&&(t=!1);var e=t?"web-pwd":"web-commkey";return"".concat(L,"?xm_req_type=").concat(e)},t.prototype.getLoginUrl=function(t,e){void 0===e&&(e=!0);var n=!!t,i=!!(0,f.getUrlParam)("lt"),r=(0,f.getUrlParam)("target")||"",o=encodeURIComponent((0,f.getUrlParam)("delegate_url")||""),a="true"===((0,f.getUrlParam)("master")||"")?1:0,c=(0,p.getCookieParam)("xm_pstate")?1:0,s=(0,f.getUrlParam)("sid")||(null==t?void 0:t.sid)||"",l=(0,f.getUrlParam)("uin")||"",u=(0,f.getUrlParam)("ds")||C,d=(0,f.getUrlParam)("code")||"",g=i?"&code=".concat(d):"",m="ds=".concat(u,"&ss=").concat(c,"&qq_target=").concat(r,"&deleglate_url=").concat(o).concat(l?"&related_uin=".concat(l,"&back_to_master=").concat(a,"&sid=").concat(s):""),h="";return P()?(h=e?this.getBaseLoginUrl(n):L,h=i?h:"".concat(h).concat(h.indexOf("?")>-1?"&":"?").concat(m),h="".concat(h).concat(s?"".concat(h.indexOf("?")>-1?"&":"?","sid=").concat(s):"")):h="".concat(L,"?auth_type=").concat(i?1:3).concat(g,"&").concat(m)},t}()),D=window;var q=null,Q=[];function M(t){return t.isIgnoreCache=!0,q?new Promise((function(t){return Q.push(t)})):(P()?q=new Promise((function(t){return U.loginByTicket(!0).then((function(e){(null==e?void 0:e.isSuccess)?t({isSuccess:!0}):t({isSuccess:!1})}))})):d.default.getFrom()===d.FROM.webmail&&(q=new Promise((function(e){try{D.top.xmailAutoLogin((function(n,i){n&&(console.log(n),l().cube({module:"login",action:"auto_login32_failed",ver5:JSON.parse(n)}),window.top.location.href="https://mail.qq.com",e({isSuccess:!1,msg:"auto_login_failed"})),d.default.replaceUrlSid(i.xmailSid),e({isSuccess:!0}),(t=t||{retry:0}).retry=t.retry?t.retry+1:1,t.retry<=2?e({isSuccess:!0}):(window.top.location.href="https://mail.qq.com",e({isSuccess:!1,msg:"exceed_retry_times"}))}),!0)}catch(t){e({isSuccess:!1,msg:"execute_failed"})}}))),q?q.then((function(t){return q=null,Q.forEach((function(e){e(t),e=null})),Q.splice(0,Q.length),t})):Promise.resolve({isSuccess:!1,msg:"no_retry_login_fun"}))}var W,G=n(81098),B=(n(57590),n(24104)),j=function(){return j=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},j.apply(this,arguments)};!function(t){t.info="info",t.success="success",t.loading="loading",t.fail="fail"}(W||(W={}));var H=(0,B.createAction)("SHOW_MESSAGE",(function(t){return function(e){return t(j({key:Date.now().toString()+Math.floor(1e4*Math.random())},e))}}));(0,B.createAction)("SHIFT_MESSAGE",(function(t){return function(e){return t(e)}}));var J,V=(J=function(t,e){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},J(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}J(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),X=function(){return X=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},X.apply(this,arguments)},z=function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{s(i.next(t))}catch(t){o(t)}}function c(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((i=i.apply(t,e||[])).next())}))},K=function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Y=["/home/home","/addr/addrlist"].reduce((function(t,e){return t[e]=1,t}),{}),Z=["/info/report"].reduce((function(t,e){return t[e]=1,t}),{}),$=function(){function t(){this.caches={};var t="".concat("","/");this.cgiInstance=c().create({baseURL:t,withCredentials:!0}),this.cgiInstance.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded"}return t.prototype.getHeaders=function(t){var e={};return window.isWeb&&t&&(!t.startsWith("https://")||t.startsWith("https://wx.mail.qq.com"))&&(e={Lang:window.lang}),e},t.prototype.get=function(t,e,n,i){var r,o,a,c,s;return void 0===e&&(e={}),void 0===n&&(n={}),void 0===i&&(i={}),z(this,void 0,void 0,(function(){var u,d,p,f,g,m,h;return K(this,(function(v){switch(v.label){case 0:return u=this.getCacheKey(t,e),d=Y[t],p=Boolean(d&&this.caches[u]),n=this.getCorrectConfig(n),!p||(null==n?void 0:n.isIgnoreCache)?[3,1]:(f=this.caches[u],[3,6]);case 1:g=this.getCgiRequestParams(t,e),v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this.cgiInstance.get(t,X({params:g,headers:this.getHeaders(t)},i))];case 3:return f=v.sent(),[3,5];case 4:return m=v.sent(),h="string"==typeof m?m:m.message||(m.toString?m.toString():JSON.stringify(m)),l().cube({module:"cgi",action:"cgi_network_get_error",cgiName:t,cgiParams:JSON.stringify(e),res:h}),null===(r=window.Raven)||void 0===r||r.captureException(m),[2,m.response];case 5:if(this.isNoHandleResponseUrl(t))return[2,f];(null===(o=null==f?void 0:f.data)||void 0===o?void 0:o.head)?0!==f.data.head.ret&&-20002!==f.data.head.ret&&(l().cube({module:"cgi",action:"cgi_get_ret_error",cgiName:t,cgiParams:JSON.stringify(g),res:JSON.stringify(f)}),l().monitor(226377,0,1)):(l().cube({module:"cgi",action:"cgi_get_req_error",cgiName:t,cgiParams:JSON.stringify(g),res:JSON.stringify(f)}),l().monitor(226377,0,1)),d&&(this.caches[u]=f),v.label=6;case 6:return/\/login\/checksid/.test(t),-20002===(null===(c=null===(a=null==f?void 0:f.data)||void 0===a?void 0:a.head)||void 0===c?void 0:c.ret)||"-20002"===(null===(s=null==f?void 0:f.headers)||void 0===s?void 0:s.logicret)||!(null==n?void 0:n.silent)&&!(null==n?void 0:n.isRawResponse)?[2,this.processCgiRequest(f,this.get,t,e,n)]:[2,f]}}))}))},t.prototype.post=function(t,e,n,i){var r,a,c,s,u;return void 0===e&&(e={}),void 0===n&&(n={}),void 0===i&&(i={}),z(this,void 0,void 0,(function(){var d,p;return K(this,(function(f){switch(f.label){case 0:return d=n.useJson,n=this.getCorrectConfig(n),[4,this.cgiInstance.post(t,e,X({params:this.getCgiRequestParams(t),headers:this.getHeaders(t),transformRequest:[function(t){var e,n;if("string"==typeof t)return t;if(d)return JSON.stringify(t);try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(t)),r=i.next();!r.done;r=i.next()){var a=r.value;"object"==typeof t[a]&&(Array.isArray(t[a])?t[a]=t[a].map((function(t){return"string"==typeof t?t:JSON.stringify(t)})):t[a]=JSON.stringify(t[a]))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o().stringify(t,{arrayFormat:"repeat"})}]},i)).catch((function(n){var i,r="string"==typeof n?n:n.message||(n.toString?n.toString():JSON.stringify(n));return l().cube({module:"cgi",action:"cgi_network_post_error",cgiName:t,cgiParams:JSON.stringify(e),res:r}),null===(i=window.Raven)||void 0===i||i.captureException(n),n.response}))];case 1:return p=f.sent(),this.isNoHandleResponseUrl(t)?[2,p]:((null===(r=null==p?void 0:p.data)||void 0===r?void 0:r.head)?0!==p.data.head.ret&&-20002!==p.data.head.ret&&(l().cube({module:"cgi",action:"cgi_post_ret_error",cgiName:t,cgiParams:JSON.stringify(e),res:p.data?JSON.stringify(p.data):""}),l().monitor(226377,1,1)):(l().cube({module:"cgi",action:"cgi_post_req_error",cgiName:t,cgiParams:JSON.stringify(e),res:p?JSON.stringify(p):""}),l().monitor(226377,0,1)),/\/login\/checksid/.test(t),-20002===(null===(c=null===(a=null==p?void 0:p.data)||void 0===a?void 0:a.head)||void 0===c?void 0:c.ret)||"-20002"===(null===(s=null==p?void 0:p.headers)||void 0===s?void 0:s.logicret)||!(null==n?void 0:n.silent)&&!(null==n?void 0:n.isRawResponse)?(null===(u=null==p?void 0:p.data)||void 0===u?void 0:u.head)&&0!==p.data.head.ret&&(null==n?void 0:n.isHandleLoginState)?[2,p]:[2,this.processCgiRequest(p,this.post,t,e,n)]:[2,p])}}))}))},t.prototype.isSuccessRawResponse=function(t){return t&&t.data&&t.data.head&&0===t.data.head.ret},t.prototype.retryLogic=function(t,e,n,i,r){var o=this,a=t.data.head,c=a.ret,s=a.msg,l=a.stack;return M(r).then((function(t){return t.isSuccess?e.call(o,n,i,r):(null==r?void 0:r.handleLoginStateInvalidFun)?void r.handleLoginStateInvalidFun():(window.location.href.indexOf("https://wx.mail.qq.com/account")>-1?window.location.href="https://wx.mail.qq.com/account":window.location.href="https://wx.mail.qq.com?err=expired",(null==r?void 0:r.isReturnErrorMsg)?{isError:!0,retCode:c,retMsg:s||l}:null)}))},t.prototype.processCgiRequest=function(t,e,n,i,r){var o,a,c,s,l,d,p=this;if("string"==typeof(null==t?void 0:t.data))try{t.data=JSON.parse(t.data)}catch(e){console.error("processCGIRequest, parse data to json failed! data:",t.data)}if(null==r?void 0:r.isGetRetFromHead)return t.data.body||(t.data.body={}),t.data.body.ret||(t.data.body.ret=t.data.head.ret),t.data.body;if(0!==(null===(a=null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.head)||void 0===a?void 0:a.ret)){var f=t.data.head||{},g=f.ret,m=f.msg,h=f.stack;if(-20002===g||"-20002"===(null===(c=null==t?void 0:t.headers)||void 0===c?void 0:c.logicret))return this.retryLogic(t,e,n,i,r);if(-21502===g)return{isError:!0,retCode:g,retMsg:m||h};if(-21014===g)return t.data.head;if(this.isSpamErr(g))return{isError:!0,retCode:g,retMsg:m||h};if(u.API_ERROR_CODE[g])throw-20058!==g||window.location.href.includes("search")?-21902!==g&&-21913!==g||!window.location.href.includes("list")?null===(d=null===window||void 0===window?void 0:window.store)||void 0===d||d.dispatch(H({type:W.fail,msg:this.getErrorMsg({errCode:g})})):(null===(l=null===window||void 0===window?void 0:window.store)||void 0===l||l.dispatch({type:"FETCH_FOLDER_LIST/START"}),setTimeout((function(){var t;null===(t=null===window||void 0===window?void 0:window.store)||void 0===t||t.dispatch(H({type:W.fail,msg:p.getErrorMsg({errCode:g})})),window.micro.history.push("/list")}),500)):(null===(s=null===window||void 0===window?void 0:window.store)||void 0===s||s.dispatch(H({type:W.fail,msg:this.getErrorMsg({errCode:g})})),window.micro.apps.vue2.$folderlock({confirmHandler:function(){window.location.reload()}})),new Error(this.getErrorMsg({errCode:g}));return(null==r?void 0:r.isReturnErrorMsg)?{isError:!0,retCode:g,retMsg:m}:null}return t.data.body},t.prototype.getCorrectConfig=function(t){return t?(t.isRawResponse=void 0===(null==t?void 0:t.isRawResponse)?null==t?void 0:t.silent:t.isRawResponse,t):t},t.prototype.isInApiErrorCode=function(t){return!!u.API_ERROR_CODE[t]},t.prototype.getErrorMsg=function(t){var e=t.errCode,n=t.page,r=t.defaultDesc,o=u.API_ERROR_CODE[e];return n&&"object"==typeof o&&o[n]?o[n]:(r=r||i.t("SckBE#系统失败，请稍候重试"),"object"==typeof o?n&&o[n]?o[n]:o.default||r:o||r)},t.prototype.getCgiRequestParams=function(t,e){void 0===e&&(e={});var n={sid:(0,G.isQymailCgi)(t)?d.default.getQySid():(0,G.getUrlParam)("sid")||d.default.get("sid")||g("xm_sid"),r:(0,G.getRandomString)()};return X(X({},n),e)},t.prototype.isSpamErr=function(t){return-25001===t||-21507===t},t.prototype.isLogoutErrByMsg=function(t){return u.API_ERROR_CODE[-20002]===t},t.prototype.isCommonErr=function(t){return this.isSpamErr(t)},t.prototype.getCacheKey=function(t,e){var n=Object.keys(e).reduce((function(t,n){return t+("r"===n||"f"===n?"":"".concat(n,"-").concat(JSON.stringify(e[n]),"$"))}),"");return"".concat(t,"-").concat(n)},t.prototype.isSuccessResponse=function(t){return!!t},t.prototype.isNoHandleResponseUrl=function(t){return!!Z[t]},t}(),tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.retryLogic=function(t,e,n,i,r){var o=this,a=t.data.head||{},c=a.ret,s=a.msg,l=a.stack;return M(r).then((function(t){return t.isSuccess?e.call(o,(0,p.updateUrlSid)(n),i,r):(null==r?void 0:r.handleLoginStateInvalidFun)?void r.handleLoginStateInvalidFun():(window.location.href.indexOf("https://wx.mail.qq.com/account")>-1?window.location.href="https://wx.mail.qq.com/account":window.location.href="https://wx.mail.qq.com?err=expired",(null==r?void 0:r.isReturnErrorMsg)?{isError:!0,retCode:c,retMsg:s||l}:null)}))},e}($),et=new tt},81098:function(t,e,n){"use strict";n.r(e),n.d(e,{count:function(){return w},debounceSync:function(){return E},fixList:function(){return C},getAvatarExist:function(){return v},getRandomString:function(){return p},getScrollBarSize:function(){return x},getUrlParam:function(){return I},isADFolder:function(){return m},isQymailCgi:function(){return f},isVirtualFolder:function(){return S},replaceAll:function(){return g},setErrorAvatar:function(){return y}});var i,r,o,a,c=n(96486),s=n.n(c),l=n(86066);!function(t){t[t.FALSE=0]="FALSE",t[t.TRUE=1]="TRUE"}(i||(i={})),function(t){t[t.WEB=1]="WEB",t[t.APP=2]="APP",t[t.WAP=3]="WAP",t[t.MQQ=4]="MQQ"}(r||(r={})),function(t){t[t.LASTSEND=1]="LASTSEND",t[t.NAME=2]="NAME",t[t.EMAIL=3]="EMAIL"}(o||(o={})),function(t){t[t.DOWN=1]="DOWN",t[t.UP=2]="UP"}(a||(a={}));var u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},d=function(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};function p(){return"".concat((1e13*Math.random()).toFixed(0)).concat(Date.now())}function f(t){return/^https:\/\/exmail\.qq\.com\/cgi-bin\//.test(t)}function g(t,e,n){return t.replace(RegExp(e,"gm"),n)}function m(t){return"CAD"===(null==t?void 0:t.substring(0,3))}var h=JSON.parse(localStorage.getItem("errorAvatar"))||{},v=function(t){return!h[t]},_=s().debounce((function(){localStorage.setItem("errorAvatar",JSON.stringify(h))}),1e3),y=function(t){h[t]=!0,_()};function S(t){if("string"==typeof t)try{t=parseInt(t,10)}catch(t){return!1}else if("number"!=typeof t)return!1;return t>=l.FolderDirType.Tag&&t<l.FolderDirType.TagFolderMax||[l.FolderDirType.ContactVipFolder,l.FolderDirType.StarFolder].includes(t)}function w(t,e){var n=0;return t.forEach((function(t){return e(t)&&n++})),n}function C(t){if(null==t?void 0:t.pop_list){if(t.pop_list.find((function(t){return t.dirid===l.FolderDirType.External})))return t;var e={index:0,dirid:l.FolderDirType.External,auto_clean:i.FALSE,auto_read:i.FALSE,color:0,folder_type:l.FolderType.Person,level:1,name:"AllExternal",pos:3e3,top:0,total_num:0,unread_num:0,wxpush:1},n=s().findIndex(t.personal_list,(function(t){return t.dirid===l.FolderDirType.Personal}));t.pop_list.forEach((function(i){e.total_num+=i.total_num,e.unread_num+=i.unread_num,n>=0&&(t.personal_list[n].total_num-=i.total_num,t.personal_list[n].unread_num-=i.unread_num)})),t.pop_list=d([e],u(t.pop_list),!1)}return t}function E(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new Promise((function(i,r){s().debounce.apply(s(),d([function(){t.apply(void 0,d([],u(n),!1)).then(i).catch(r)}],u(e),!1))()}))}}var b,x=function(t){if(t||void 0===b){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),i=n.style;i.position="absolute",i.top="0px",i.left="0px",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var r=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;r===o&&(o=n.clientWidth),document.body.removeChild(n),b=r-o}return b};function I(t){var e,n,i,r=window.location,o=r.search,a=r.hash,c=o.substring(o.indexOf("?")+1),s=a.substring(a.indexOf("?")+1),l=c||s;if(l)for(e=l.split("&"),n=0;n<e.length;n++)if((i=e[n].split("="))[0]===t)return i[1];return null}},86066:function(t,e,n){"use strict";var i,r,o,a,c,s,l,u,d,p;n.r(e),n.d(e,{AD_MAIL_ID:function(){return w},BizType:function(){return d},CheckErrMsg:function(){return U},DEFAULT_PAGE_SIZE:function(){return S},FUNCTYPES:function(){return s},FileStatus:function(){return p},FolderDirType:function(){return r},FolderType:function(){return i},ICheckTaskResult:function(){return k},IMailSendStatus:function(){return f},IPopAcctType:function(){return D},IPopStatus:function(){return I},ISessionMailType:function(){return m},ISignatureType:function(){return c},IXMErrType:function(){return L},MailAccountType:function(){return a},MailType:function(){return g},MailWriterTypeEnum:function(){return v},PopAcctStatus:function(){return x},SERVER_RECALL_ARR:function(){return T},SERVER_RECALL_FAIL_ARR:function(){return A},SERVER_RECALL_FAIL_FULL_ARR:function(){return R},SERVER_RECALL_SUCCESS_ARR:function(){return P},SERVER_RECALL_SUCC_FAIL_ARR:function(){return F},SERVER_RECALL_TYPE:function(){return y},SORTDIRECTIONS:function(){return u},SORTTYPES:function(){return l},SecurityMailEnum:function(){return h},StatusErrMsg:function(){return O},UserType:function(){return o},XMErrMsg:function(){return q},XqqStyleType:function(){return _}}),function(t){t[t.Feature=2]="Feature",t[t.Person=3]="Person",t[t.Sys=1]="Sys",t[t.Tag=5]="Tag"}(i||(i={})),function(t){t[t.ADFolder=0]="ADFolder",t[t.ReceiveFolder=1]="ReceiveFolder",t[t.ContactVipFolder=16]="ContactVipFolder",t[t.StarFolder=2]="StarFolder",t[t.SendedFolder=3]="SendedFolder",t[t.DraftFolder=4]="DraftFolder",t[t.DeletedFolder=5]="DeletedFolder",t[t.WasteFolder=6]="WasteFolder",t[t.UnreadFolder=7]="UnreadFolder",t[t.GroupFolder=8]="GroupFolder",t[t.GroupDraft=14]="GroupDraft",t[t.SysFolderMax=100]="SysFolderMax",t[t.Ftn=1002]="Ftn",t[t.Attach=1001]="Attach",t[t.Note=1003]="Note",t[t.Book=1004]="Book",t[t.Resume=1005]="Resume",t[t.Calendar=1006]="Calendar",t[t.Wedoc=1007]="Wedoc",t[t.Invoice=1008]="Invoice",t[t.Card=1009]="Card",t[t.FeatFolderMax=2e3]="FeatFolderMax",t[t.Personal=2e3]="Personal",t[t.PersonalFolderMax=3e3]="PersonalFolderMax",t[t.External=3e3]="External",t[t.ExternalMax=4e3]="ExternalMax",t[t.Tag=4e3]="Tag",t[t.TagFolderMax=5e3]="TagFolderMax"}(r||(r={})),function(t){t[t.Unknown=0]="Unknown",t[t.isQQUser=1]="isQQUser",t[t.isWxUser=2]="isWxUser",t[t.Type3=3]="Type3",t[t.Type4=4]="Type4"}(o||(o={})),function(t){t[t.foxmail=0]="foxmail",t[t.pop=1]="pop",t[t.domain=2]="domain",t[t.mobile=3]="mobile",t[t.qq=4]="qq",t[t.vip=5]="vip"}(a||(a={})),function(t){t[t.UserDefineSignature=1]="UserDefineSignature",t[t.ProfileSignature=2]="ProfileSignature"}(c||(c={})),function(t){t[t.dir=1]="dir",t[t.star=2]="star",t[t.tag=3]="tag",t[t.unread=4]="unread",t[t.vip=5]="vip",t[t.allpersonal=6]="allpersonal",t[t.alltag=7]="alltag"}(s||(s={})),function(t){t[t.time=1]="time",t[t.sender=2]="sender",t[t.subject=3]="subject",t[t.size=4]="size"}(l||(l={})),function(t){t[t.down=1]="down",t[t.up=2]="up"}(u||(u={})),function(t){t[t.UnknowBiz=0]="UnknowBiz",t[t.QqmailHub=2]="QqmailHub",t[t.QymailDisk=5]="QymailDisk",t[t.Attachment=50]="Attachment",t[t.Resume=55]="Resume",t[t.QymailHub=72]="QymailHub"}(d||(d={})),function(t){t[t.Uploading=0]="Uploading",t[t.UploadSuc=1]="UploadSuc",t[t.UploadFail=2]="UploadFail",t[t.Expired=3]="Expired",t[t.Deleted=4]="Deleted"}(p||(p={}));var f,g,m,h,v,_,y,S=25,w="CAD000_00000000000000000000000";!function(t){t[t.Sending=1]="Sending",t[t.Sent=2]="Sent",t[t.Failed=3]="Failed",t[t.PartFailed=4]="PartFailed",t[t.Recalled=5]="Recalled"}(f||(f={})),function(t){t[t.Default=1]="Default",t[t.Ad=2]="Ad",t[t.Session=3]="Session"}(g||(g={})),function(t){t[t.SUBJECT=0]="SUBJECT",t[t.SENDER=1]="SENDER"}(m||(m={})),function(t){t[t.RedMail=-25202]="RedMail",t[t.GrayMail=-250201]="GrayMail",t[t.GreenMail=-250203]="GreenMail",t[t.RedMailSender=-25211]="RedMailSender",t[t.GrayMailSender=-25212]="GrayMailSender",t[t.GreenMailSender=-25213]="GreenMailSender",t[t.Spam=-252010]="Spam",t[t.SpamSender=-25218]="SpamSender"}(h||(h={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.WRITE=1]="WRITE",t[t.REPLY=2]="REPLY",t[t.FORWARD=3]="FORWARD",t[t.ADD_ONE_FILE=4]="ADD_ONE_FILE",t[t.ADD_FILES=5]="ADD_FILES",t[t.REPLY_ALL=6]="REPLY_ALL",t[t.EDIT_DRAFT=7]="EDIT_DRAFT"}(v||(v={})),function(t){t[t.ENCRYPT_MAIL=800]="ENCRYPT_MAIL",t[t.TIME_CAPSULE_SENT=1e4]="TIME_CAPSULE_SENT",t[t.TIME_CAPSULE_RECV=10001]="TIME_CAPSULE_RECV"}(_||(_={})),function(t){t[t.RECALLING=100]="RECALLING",t[t.RECALLED=101]="RECALLED",t[t.OUTER_NOT_RECALL=103]="OUTER_NOT_RECALL",t[t.READED_NOT_RECALL=104]="READED_NOT_RECALL",t[t.UNKNOWN_NOT_RECALL=105]="UNKNOWN_NOT_RECALL",t[t.DELETE_NOT_RECALL=106]="DELETE_NOT_RECALL",t[t.TIME_OUT=500]="TIME_OUT"}(y||(y={}));var C,E,b,x,I,T=[100,101,103,104,105,106],A=[103,104,105,106],F=[101,103,104,105,106],P=[101],R=[103,104,105,106,500],N=n(69538);!function(t){t[t.FIRST_TIME_CONNECTING=-1]="FIRST_TIME_CONNECTING",t[t.OK=0]="OK",t[t.GETCMDOK=272]="GETCMDOK",t[t.ACCTFAIL=18]="ACCTFAIL",t[t.CONNECTING=288]="CONNECTING",t[t.CONNFAIL=33]="CONNFAIL",t[t.AUTHFAIL=34]="AUTHFAIL",t[t.AUTHEXCEPTION=47]="AUTHEXCEPTION",t[t.UIDL=304]="UIDL",t[t.UIDLFAIL=49]="UIDLFAIL",t[t.UIDLEXCEPTION=63]="UIDLEXCEPTION",t[t.RETR=320]="RETR",t[t.RETRFAIL=65]="RETRFAIL",t[t.IDXFULL=66]="IDXFULL",t[t.QUOTAFULL=67]="QUOTAFULL",t[t.RETREXCEPTION=73]="RETREXCEPTION",t[t.DELE=336]="DELE",t[t.DELEFAIL=81]="DELEFAIL",t[t.AUTHSTOP=82]="AUTHSTOP",t[t.GETSETTING=83]="GETSETTING"}(x||(x={})),function(t){t[t.NO_TASK=-1]="NO_TASK",t[t.CONNECTING=6]="CONNECTING",t[t.RECEIVING=8]="RECEIVING",t[t.BG_RECEIVING0=272]="BG_RECEIVING0",t[t.BG_RECEIVING1=304]="BG_RECEIVING1",t[t.CONN_FAILED=33]="CONN_FAILED",t[t.ACCT_FAILED0=1]="ACCT_FAILED0",t[t.ACCT_FAILED1=34]="ACCT_FAILED1",t[t.PopNotOpen=-54200]="PopNotOpen",t[t.PopInvalidUserPass=-54201]="PopInvalidUserPass",t[t.PopAuthFail=-54202]="PopAuthFail",t[t.PopConnFail=-54203]="PopConnFail",t[t.PopConnTimeout=-54204]="PopConnTimeout",t[t.PopUnbind=-54205]="PopUnbind",t[t.PopQuotaFull=-54206]="PopQuotaFull",t[t.PopReject=-54207]="PopReject",t[t.SmtpNotOpen=-54208]="SmtpNotOpen",t[t.SmtpInvalidUserPass=-54209]="SmtpInvalidUserPass",t[t.SmtpAuthFail=-54210]="SmtpAuthFail",t[t.SmtpConnFail=-54211]="SmtpConnFail",t[t.SmtpConnTimeout=-54212]="SmtpConnTimeout",t[t.PopEmailNotBind=-54213]="PopEmailNotBind",t[t.RECV_FAILED=41]="RECV_FAILED",t[t.SUCCESS0=0]="SUCCESS0",t[t.SUCCESS1=320]="SUCCESS1"}(I||(I={}));var k,O=((C={})[I.CONN_FAILED]=N.t("amxFI#无法连接对方服务器，请确认该邮箱帐号设置是否正确"),C[I.PopConnFail]=N.t("amxFI#无法连接对方服务器，请确认该邮箱帐号设置是否正确"),C[I.PopUnbind]=N.t("dRkqr#被代收帐号已解除绑定"),C[I.PopQuotaFull]=N.t("faYAK#邮箱超容，请先清理本邮箱的邮件"),C[I.PopReject]=N.t("gAnvC#被对方服务器拦截，请登录该邮箱帐号查看相关设置"),C[I.PopConnTimeout]=N.t("wJNRe#连接对方邮箱服务器超时，请检查服务器地址、端口是否正确"),C[I.ACCT_FAILED0]=N.t("VZPED#帐户或密码验证失败，或者POP服务未开通"),C[I.ACCT_FAILED1]=N.t("VZPED#帐户或密码验证失败，或者POP服务未开通"),C[I.PopAuthFail]=N.t("VZPED#帐户或密码验证失败，或者POP服务未开通"),C[I.PopInvalidUserPass]=N.t("NvkaJ#帐户或密码验证失败"),C[I.PopNotOpen]=N.t("nUhQX#被代收邮箱未开通POP服务"),C[I.RECV_FAILED]=N.t("aUpJE#收取中网络错误或者是某一封邮件太大无法收取。"),C[I.SmtpNotOpen]=N.t("epBIm#被代收邮箱未开通SMTP服务"),C[I.SmtpInvalidUserPass]=N.t("QhGjA#帐号或密码验证失败"),C[I.SmtpAuthFail]=N.t("ywRam#请检查帐号密码或确认开启SMTP服务"),C[I.SmtpConnFail]=N.t("mDHNO#无法连接对方服务器，请确认该帐号设置是否正确"),C[I.SmtpConnTimeout]=N.t("wJNRe#连接对方邮箱服务器超时，请检查服务器地址、端口是否正确"),C[I.PopEmailNotBind]=N.t("oGtqx#帐号已注销。你可以登录该帐号尝试开启QQ邮箱服务"),C);!function(t){t[t.UnknownFail=-1]="UnknownFail",t[t.VerifyOk=0]="VerifyOk",t[t.NoTask=3001]="NoTask",t[t.PopConnecting=3002]="PopConnecting",t[t.PopConnectFail=3003]="PopConnectFail",t[t.PopVerifing=3004]="PopVerifing",t[t.PopVerifyFail=3005]="PopVerifyFail",t[t.PopQuerying=3006]="PopQuerying",t[t.PopQueryFail=3007]="PopQueryFail",t[t.PopRecving=3008]="PopRecving",t[t.PopRecvFail=3009]="PopRecvFail",t[t.SmtpConnecting=3010]="SmtpConnecting",t[t.SmtpConnectFail=3011]="SmtpConnectFail",t[t.SmtpVerifing=3012]="SmtpVerifing",t[t.SmtpVerifyFail=3013]="SmtpVerifyFail",t[t.Cancel=3014]="Cancel",t[t.Others=4001]="Others"}(k||(k={}));var L,U=((E={})[k.PopConnectFail]=N.t("amxFI#无法连接对方服务器，请确认该邮箱帐号设置是否正确"),E[k.PopVerifyFail]=N.t("RwOCD#帐号验证失败。请检查帐号密码或确认开启POP服务。"),E[k.PopQueryFail]=N.t("tawRX#邮件查询失败"),E[k.PopRecvFail]=N.t("cAPXC#邮件接收失败"),E[k.SmtpConnectFail]=N.t("mDHNO#无法连接对方服务器，请确认该帐号设置是否正确"),E[k.SmtpVerifyFail]=N.t("RwOCD#帐号验证失败。请检查帐号密码或确认开启POP服务。"),E[k.Cancel]=N.t("kOTPA#收取被取消"),E);!function(t){t[t.InvalidResponseType=-21650]="InvalidResponseType",t[t.InvalidClientID=-21651]="InvalidClientID",t[t.InvalidOAuthCode=-21652]="InvalidOAuthCode",t[t.InvalidRefreshToken=-21653]="InvalidRefreshToken",t[t.GranCodeFail=-21654]="GranCodeFail",t[t.InvalidGrantType=-21655]="InvalidGrantType",t[t.InvalidClientSecret=-21656]="InvalidClientSecret",t[t.InvalidAccessToken=-21657]="InvalidAccessToken",t[t.InvalidAppID=-21658]="InvalidAppID",t[t.LoginFail=-21659]="LoginFail",t[t.AccountExist=-5103]="AccountExist",t[t.AntiSpam=-2006]="AntiSpam"}(L||(L={}));var D,q=((b={})[L.InvalidResponseType]=N.t("GMmoE#返回不合法"),b[L.InvalidClientID]=N.t("gTmad#clientId 不合法"),b[L.InvalidOAuthCode]=N.t("CFNTc#code 不合法"),b[L.InvalidRefreshToken]=N.t("gFDvz#refresh token 不合法"),b[L.GranCodeFail]=N.t("iEdwj#请求 code 失败"),b[L.InvalidGrantType]=N.t("QgpCz#认证类型不合法"),b[L.InvalidClientSecret]=N.t("buWlM#client secret 不合法"),b[L.InvalidAccessToken]=N.t("IByok#access token 不合法"),b[L.InvalidAppID]=N.t("wvjKe#appId 不合法"),b[L.LoginFail]=N.t("icQbO#登录失败"),b[L.AccountExist]=N.t("jybJK#帐号已存在"),b[L.AntiSpam]=N.t("WwcSY#帐号存在异常，操作已被禁止"),b);!function(t){t[t.External=0]="External",t[t.QQ=1]="QQ",t[t.WX=2]="WX"}(D||(D={}))},95621:function(t,e,n){"use strict";n.r(e),n.d(e,{ClientId:function(){return i},OAUTH_API:function(){return o},safelyPostMessage:function(){return a},safelyMessageListener:function(){return c},DEFAULT_REG_URL:function(){return s}});var i,r=function(){return r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},r.apply(this,arguments)};!function(t){t.QQmail="002e8cd102c47415",t.Foxmail="002e8cd118037e60",t.WeWork="002e8cd13a11f488"}(i||(i={}));var o="https://wx.mail.qq.com/oauth/auth";function a(t,e,n){void 0===e&&(e={}),void 0===n&&(n="*"),top.postMessage(r(r({},e),{type:t}),n)}function c(t,e){var n="string"==typeof t?[t]:t;return function(t){var i=t.origin||(t.originalEvent?t.originalEvent.origin:"*"),r=t.data||{};"https://wx.mail.qq.com"===i&&n.includes(r.type)&&e(t)}}var s="https://reg.mail.qq.com"},69538:function(t){"use strict";t.exports=window.I18N},24654:function(){}},function(t){t.O(0,[736,603],(function(){return 46961,t(t.s=46961)})),t.O()}]);