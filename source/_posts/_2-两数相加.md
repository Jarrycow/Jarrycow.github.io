---
title: 2. 两数相加
date: 2022-07-22 17:00:07
tags: 
  - 算法
  - 力扣
categories:
  - 力扣
abbrlink: leetcode2
---

# 题目描述

给你两个 **非空** 的链表，表示两个非负的整数。它们每位数字都是按照 **逆序** 的方式存储的，并且每个节点只能存储 **一位** 数字。

请你将两个数相加，并以相同形式返回一个表示和的链表。

你可以假设除了数字 0 之外，这两个数都不会以 0 开头。

## 示例

示例 1：

> 输入：l1 = [2,4,3], l2 = [5,6,4]
> 输出：[7,0,8]
> 解释：342 + 465 = 807.

示例 2：

> 输入：l1 = [0], l2 = [0]
> 输出：[0]

示例 3：

> 输入：l1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]
> 输出：[8,9,9,9,0,0,0,1]

**提示：**

- 每个链表中的节点数在范围 `[1, 100]` 内
- `0 <= Node.val <= 9`
- 题目数据保证列表表示的数字不含前导零

# 题解

## 我的

### 初解

```java
class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode result = new ListNode();
        result = NumToListNode(ListNodeToNum(l1) + ListNodeToNum(l2));
        return result;
    }

    private int ListNodeToNum(ListNode node) {  // 链表转换数字
        int result = 0;
        while (node != null) {
            result = 10 * result + node.val;
            node = node.next;
        }
        return result;
    }

    private ListNode NumToListNode(int num) {  // 数字转换链表
        ListNode head = new ListNode();
        ListNode node = new ListNode();
        node = head;
        while (num != 0) {
            node.next = new ListNode();
            node = node.next;
            node.val = num % 10;
            node.next = null;
            num = num / 10;
        }
        return head.next;
    }
}
```

**错误**

测试用例

> 输入：l1 = [0], l2 = [0]
> 输出：[0]
>
> 我的输出：[]

忽略了`num=0`情况

### **修改代码**

```java
class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode result = new ListNode();
        result = NumToListNode(ListNodeToNum(l1) + ListNodeToNum(l2));
        return result;
    }

    private int ListNodeToNum(ListNode node) {  // 链表转换数字
        int result = 0;
        while (node != null) {
            result = 10 * result + node.val;
            node = node.next;
        }
        return result;
    }

    private ListNode NumToListNode(int num) {  // 数字转换链表
        ListNode head = new ListNode();
        ListNode node = new ListNode();
        node = head;
        
        
        /*增添部分*/*
        if(num == 0){
            return new ListNode(0);
        }
        
        
        while (num != 0) {
            node.next = new ListNode();
            node = node.next;
            node.val = num % 10;
            node.next = null;
            num = num / 10;
        }
        return head.next;
    }
}

```

**错误**

测试用例

> 输入：l1 = [2,4,9], l2 = [5,6,4,9]
> 输出：[7,0,4,0,1]
>
> 我的输出：[8,9,8,5]

这题完全理解错了，不是简单加起来，变成链表

而是从左开始，每个元素相加，进位是在右边元素上的

### 二次修改

```java
class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode result = new ListNode(), node = result;
        ListNode node1 = l1, node2 = l2; // 指向l1,l2的结点
        int carry = 0; // 进位
        while (node1 != null || node2 != null) {
            node.next = new ListNode();
            node = node.next;
            node.val = 0;
            if (node1 != null)
                node.val += node1.val;
            if (node2 != null)
                node.val += node2.val;
            node.val += carry;
            carry = node.val / 10; // 产生进位
            node.val = node.val % 10;
            if (node1 != null)
                node1 = node1.next;
            if (node2 != null)
                node2 = node2.next;
        }
        if (carry != 0)
            node.next = new ListNode(carry);
        return result.next;
    }

}
```

## 官方题解

同样用模拟

但我的代码值得改进的是可以将几个`if`语句转化为`?:`