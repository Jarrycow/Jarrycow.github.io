---
title: IP地址
date: 2021-02-16 23:49:27
abbrlink: IPAddress
---

[toc]

# IP地址详解

## 网络设备

交换机：用来组建内网的局域网的设备（多个口）

路由器：接外网（两个口）

## 子网掩码

- **局域网通信规则**：所有人必须都在**同一网段内**才能通信
- IP 地址构成：网络位 + 主机位
- **子网掩码**：用来确定网络位，与 1 对应的是网路位，与 0 对应的是主机位

- ABCD 类 IP 地址：

  - A 类：1-126 默认子网掩码：255.0.0.0
  - B 类：128-191 默认子网掩码：255.255.0.0
  - C 类：192-223 默认子网掩码：255.255.255.0
  - D 类：224-239 组播地址（一个地址代表一组人）
  - E 类：244-254 科研使用

- 几种特殊的 IP 地址：

  - 本机 IP ：127.0.0.1（回环地址）

  - 广播地址：主机位全为 1（发送所有主机）

    > 主机位不能全为0和1

  - 网段：主机位全为 0

## 网关

**作用**：局域网主机访问外网的出口IP地址（类比于出国时的海关）

- 一般网关是在**路由器**上

- 常用网关地址为可用主机IP的**第一个**或**最后一个**

## PC主机向外发送数据包过程

1. 判断目标IP与自身是否同一网段（**IP地址**与**子网掩码**判断）
2. 若是，直接发出
3. 若不是，发给**网关**

## DNS（Domain Name Service 域名解析服务）

**作用**：通过域名查询IP

### 查找DNS过程

1. 若登录过该网站，先寻找本机DNS缓存
2. 查找DNS本地解析文件
3. 询问DNS服务器 $\star$

**常用备用DNS**

国内通用DNS：```114.114.114.114```

谷歌NDS：```8.8.8.8```

## 网络测试命令

### 查看IP

```cmd
ipconfig   # 查看IP地址基本信息
ipconfig /all  # 查看IP地址详细信息
```

### PING

```cmd
ping w # 测试联通,w为目标网址
ping -l n w # 每次都发n个字节 在局域网内最大阈值为65500字节 
ping -t w # 一直ping
ping -n N # ping N个包
```

### 手工解析域名

```cmd
nslookup w
```

