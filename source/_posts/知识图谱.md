---
title: 知识图谱
author: Jarrycow
img: /medias/featureimages/xxx.png
cover: false
top: true
mathjax: true
categories:
  - AI
tags:
  - 知识图谱
  - AI
keywords: 知识图谱
abbrlink: KnowledgeGraphs
date: 2022-11-27 14:33:46
---

关系图吗？

<!--more-->

# 知识图谱是嘛玩意

以符号形式采用图的结构描述世界万物的概念及其相互关系<sub>真就关系图？</sub>，其最初设想是将基于文本链接的万维网转化为基于实体链接的语义网

- 节点：实体/抽象概念
- 边：实体属性

![知识图谱计算模型](https://raw.githubusercontent.com/Jarrycow/picHost/main/KnowledgeGraphs/知识图谱计算模型.jpg)

知识图谱构建涉及知识建模、关系抽取、图存储、关系推理、实体融合等技术

知识图谱应用涉及语义搜索、智能问答、语言理解、决策分析等多个领域

利用知识图谱需要系统性利用知识表示、图数据库、自然语言处理、机器学习等多方面技术

# 知识图谱的应用价值

## 知识图谱应用

- 辅助搜索
- 辅助问答
- 辅助大数据分析
- 辅助语言理解
- 辅助设备互联

## 知识图谱技术流程

现代知识图谱构建通常依靠已有结构化数据资源转化为基础数据集，再依靠自动化知识抽取和知识图谱补全技术从多种数据来源扩展成知识图谱，并通过人工众包进一步提升知识图谱质量。

1. **知识来源**

   从多种来源获得知识图谱数据，包括文本、结构化数据库、多媒体数据、传感器数据、人工众包等。每一种数据源的知识化都需要综合不同技术手段。

   - 文本数据：需要综合实体识别、实体链接、关系抽取、事件抽取等各种自然语言处理技术
   - 结构化数据库：如各种关系数据库，已有结构化数据库需要将结构化数据定义到本体模型之间的语义映射；再通过编写语义翻译工具实现结构化数据到知识图谱的转化；还需要综合采用实体消歧、数据融合、知识链接等技术，提升数据的规范化水平，增强数据之间关联
   - 语义技术：常用于对传感器数据进行语义化，包括对物联设备进行抽象，定义符合语义标准数据接口：对传感数据进行语义封装、对传感数据增强上下文语义描述
   - 人工众包：获取高质量知识图谱的重要手段

2. **知识表示 & Schema 工程**

   知识表示即用符号描述和表示人脑中的知识，以支持机器模拟人的心智进行推理的方法和技术，决定了图谱构建的产出目标

   - 基本描述框架：定义基本数据结构、逻辑结构
   - Schema 与本体：定义知识图谱类集、属性集、关系集、词汇集
   - 知识交换语法：定义知识实际存在的物理格式
   - 实体命名 & ID 体系：定义实体命名原则和唯一标识规范

3. **知识抽取**

   按任务可分为概念抽取、实体识别、关系抽取、事件抽取、规则抽取等。

   文本中获取知识包括实体识别和关系抽取，典型关系抽取可分为基于特征模板的方法、基于核函数的监督学习方法、基于远程监督的方法、基于深度学习的监督或远程监督方法。

4. **知识融合**

   多个知识图谱进行融合或将外部关系数据库引入，需要处理：

   1. 模式层融合：新旧本体融合
   2. 数据层融合：指实体和关系元组的融合
      - 验证新增实体和关系，避免实例和关系冲突问题
      - 对于相同实义但不同标识符，需要合并处理，以免造成不必要的冗余

5. **知识图谱补全与推理**

   - 基于本体推理的补全方法以及相关推理机的实现：主要针对概念层进行推理，也可以使用对实体级的关系进行补全
   - 基于图结构和关系路径特征的方法：通过两个实体节点之间的路径以及节点周围图的结构提取特征，并通过随机游走算法降低特征抽取的复杂度，然后叠加线性学习模型进行关系预测
   - 基于表现学习和知识图谱嵌入的链接预测：只能实现单步推理
   - 文本信息辅助：包含三元组解码器<sub>、文本解码器<sub>从本文语料库中学习实体的向量表示</sub>、联合解码器<sub>保证实体、关系和词的嵌入向量位于相同空间且集成实体向量和词向量</sub>

6. **知识检索与知识分析**

   - 语义检索
   - 智能问答

# 知识图谱相关技术

## 数据库技术

知识图谱规模增长，传统关系数据库无法有效适应图数据模型。

**主要数据模型：**

- RDF 三元组
- 属性图

**查询语言：**

- 声明式
- 导航式

**存储方案：**

- 基于关系的存储方案

  - 三元组表：将三元组存储为具有三列的记录<sub>主语、位于、宾语</sub>

    优点：简单明了，三元组表行数等于知识图谱边数

    缺点：查询翻译为 SQL 之后会产生大量三元组表自链接，影响效率

  - 水平表：每行记录存储知识图谱中一个主语的所有谓语和宾语

    优点：类似于图的邻接表

    缺点：所需列数过多，产生大量空值，无法存储多值宾语

  - 属性表：将同一类主语分配到一个表

    优点：细化水平表，解决了三元组表的自链接和水平表列数目过多

    缺点：对于大规模知识图谱，所需属性表过多，复杂查询的多表链接效率、空值问题、多值宾语问题

  - 垂直划分：每种谓语建立一张两列<sub>主语、宾语</sub>的表，存放由谓语链接的主语和宾语

    优点：有效解决了空值问题和多值宾语问题

    缺点：大规模知识图谱谓语表数目过多、复杂查询表链接过多、更新维护代价大

  - 六重索引：将三元组全部 6 种排列对应建立 6 张表

    优点：通过“空间换时间”有效缓解三元组表的自链接问题

    缺点：需要更多存储空间开销和索引更新维护代价

  - DB2RDF：对以往存储方案的权衡优化

    优点：将灵活性推广到“列维度”，列名称不再和谓语绑定，将同一主语所有谓语、宾语动态分配到某列

- 面向 RDF 三元数组库<sub>Virtuoso、AllegroGraph、GraphDB、BlazeGraph</sub>

- 原生图数据库

  大部分不直接支持 RDF 三元组存储，可采用数据转换先将 RDF 预处理为支持的数据格式

## 智能问答

知识问答是依托大型知识库将依然语言转换为查询语句，从知识库中导出答案。近几年聚焦于解决事实性问答——答案为实义词。

**关键：**理解并解析用户提出的自然语言问题

**研究方法：**

- 基于语义解析：将自然语言问句解析成结构化查询语句，并在知识库搜索

  优点：隐式地标注数据蕴含的语法解析规律，使答案具有可解释性

  缺点：数据标注需要大量人力物力

- 基于信息检索

  步骤：

  1. 通过粗粒度信息检索，再知识库直接筛选出候选答案
  2. 根据问卷抽取出特征，对候选答案排序

  机器理解用户问题方法：

  - 集成额外文本信息<sub>搜索引擎结果</sub>
  - 提出更多、更复杂的网络结构<sub>如多列卷积神经网络、深度残差双向长短时记忆网络、注意力最大池化层</sub>
  - 联合训练实体链接和关系检测两个模块

- 基于概率模型的方法

  要求给定问句 $Q$ 时，答案为 $a$ 的概率 $P(A=a|Q)$，进而引入概率分解或变分推理，将目标概率分而治之

## 机器推理

推理即基于已知知识推断出未知知识的过程，主要用于对知识图谱进行补全和知识图谱的校验。

- 基于规则的推理：通过定义或学习知识中存在的规矩进行推理

  硬逻辑规则：每条规则真值为 1，即绝对正确，多为人工编写

  软逻辑规则：每条规则真值在 [0, 1]，多为规则挖掘系统挖掘

  学习过程：基于规则中结论与条件的共同特征

  研究趋势：

  - 自动规则挖掘系统
  - 基于规则的推理系统

  优点：通常比较接近人思考问题的过程，推理结果具有可解释性，具有较好演绎能力

  缺点：在大型知识图谱受限于离散性

- 基于分布式表示学习的推理：通过各元素的分布式表示间的计算完成隐式推理

  核心：将知识图谱映射到连续向量空间，并为知识图谱中元素学习分布式表示为低维稠密的向量矩阵

  研究趋势：

  - 提高表示学习结果对知识图谱中含有语义信息的捕捉能力<sub>多集中在链接预测任务</sub>
  - 利用分布式表示作桥梁，将知识图谱和文本、图像等信息融合，实现信息互补以及更多样化综合推理

- 基于神经网络的推理：通过神经网络涉及模拟知识图谱推理

  优点：推理表达能力强；设计多样能满足不同的推理需求

  研究趋势：

  - 设计更有效更有意义的神经网络结构
  - 对神经网络中间结果解析实现对推理结果的部分解释

- 混合推理：结合规则、表示学习和神经网络

  优点：提升推理结果精确性和可解释性

## 推荐系统

- 基于知识图谱中元路径的推荐模型

  通过元路径<sub>不同实体和关系构成的路径</sub>计算实体之间相似度，在图上传播用户偏好，并结合传统模型实现个性化推荐

  实现方法：

  1. 沿不同源路径计算用户对不同实体偏好，学得在元路径 $P$ 下的偏好矩阵
  2. 通过潜在因子模型对每个偏好矩阵进行分解，得到每条路径下用户和物品的潜在因子矩阵
  3. 对每条路径下推荐结果求和得到全局推荐模型

  优点：有效利用知识图谱中不同实体间路径语义信息传递用户偏好

  缺点：路径需要人工选择

- 基于概率逻辑程序的推荐模型

  将推荐问题转换为逻辑程序——对目标用户按查询得分高低输出推荐物品结果得到推荐物品。

  推荐方法：基于通用目的的概率逻辑系统 ProPPR

  - EntitySim：只使用图上的链接信息
  - TypeSim：使用实体 type 信息
  - GraphLF：结合概率逻辑程序和用户物品潜在因子

  优点：通过规则在知识图谱中传递用户偏好，解决路径人工选择问题

  缺点：将流程分为寻找用户偏好实体和通过偏好选择物品，无法有效利用物品之间和用户之间关系

- 基于知识图谱表示学习技术的推荐模型

  获得知识图谱中实体和关系低维稠密向量，可以在低维向量空间计算实体之间关联性

  方法：

  1. 通过知识表示学习获得图谱中和推荐物品相关的结构化信息

     通过去噪编码器网络从物品相关文本中学习编码层文本表示向量

     通过和文本建模相似的去噪编码器网络从图像中学习视觉表达向量

  2. 将表示向量引入物品的潜在因子向量中，结合矩阵分解算法完成推荐

  优点：通过贝叶斯理论角度解释并联合了不同算法的优化目标

  缺点：不适合处理一对多、多对多的关系

## 区块链与去中心化

语义网早期包含：知识互联、去中心化架构、知识的可信。知识图谱在去中心化和知识的可信方面仍无较好解决方案。

知识图谱目前多为较为集中存储，语义网则强调知识以分散方法，发布者拥有完整控制权。近年已开始探索区块链去中心化技术实现去中心化的知识互联。

知识图谱数据来源广泛，且可信度知识度量需要作用到实体和事实级别。怎样有效对知识图谱中海量事实进行管理、追踪、鉴真也是重要研究方向。
